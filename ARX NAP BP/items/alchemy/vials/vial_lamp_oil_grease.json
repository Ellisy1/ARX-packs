{
  "format_version": "1.16.100",
  "minecraft:item": {
    "description": {
      "identifier": "arx:vial_lamp_oil_grease",
      "category": "equipment"
    },
    "components": {
      "minecraft:max_stack_size": 4,
      "minecraft:cooldown": {
        "category": "food",
        "duration": 1
      },
      "minecraft:on_use": {
        "on_use": {
          "event": "on_eat"
        }
      },
      "minecraft:icon": {
        "texture": "arx:vial_lamp_oil_grease"
      },
      "minecraft:display_name": {
       "value": "§r§fЛампадное масло на жировой основе §b[Редкое]\n§eОбъём 30Ũ" 
      }
    },
    "events": {
      "on_eat": {
        "swing": {},
        "run_command": {
          "command": [
            "tag @s[scores={lamp_oil=..99999}] add allow_fill_up",

            "scoreboard players add @s[tag=allow_fill_up] lamp_oil 30000",
            "w @s[tag=allow_fill_up] §aДобавлено 30% к топливу лампы.",
            "clear @s[tag=allow_fill_up] arx:vial_lamp_oil_grease 0 1",
            "give @s[tag=allow_fill_up] arx:vial",
            "scoreboard players add @s[tag=allow_fill_up] xp_tray 5",

            "w @s[tag=!allow_fill_up] §cЛампа уже заполнена на 100%",

            "tag @s remove allow_fill_up"
          ]
        }
      }
    }
  }
}